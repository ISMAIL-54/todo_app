<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>To Do List</title>
    </head>
    <body>
    <form method="POST">
        {% csrf_token %}
        <input type="text" name="title" placeholder="Add new task"><br>
        <textarea name="description" placeholder="Add description" ></textarea><br>
        <input type="date" name="deadline">
        <button type="submit">Add</button>
    </form>
    <h1>My To Do List</h1> 
        <ul>
            {% for task in tasks %}
                <li>
                    <!-- Task title -->
                    {% if task.completed %}
                        <s>{{ task.title }}</s>
                    {% else %}
                        {{ task.title }}
                    {% endif %}

                    
                    <!-- Task description -->
                    {% if task.description %}
                        <div><p>{{ task.description }}</p></div>
                    {% endif %}

                    <!-- Deadline -->
                    {% if task.deadline %}
                        <div>{{ task.deadline }}</div>
                    {% endif %}

                    <a href="{% url 'delete_task' task.id %}">Delete</a>
                    <a href="{% url 'toggle_complete' task.id %}">
                        {% if task.completed %}Uncomplete {% else %} Complete {% endif %}
                    </a>
                </li>
            {% empty %}
                <li>No tasks yet</li>
            {% endfor %}
        </ul>
    </body>
</html>